<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        cryptography For DeFi 101</title>
    <link rel="stylesheet" href="./main-style.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        code {
            display: inline-block;
        }
    </style>
</head>

<body>
    <h1>Noted Topics</h1>
    <ol>
        <li>What is exactly Cryptography?</li>
        <ul>
            <li>
                Communication in the presence of adversaries.
            </li>
            <li>Jobs</li>
            <ul>
                <li>Secret Protection</li>
                <li>Integrity Protection</li>
            </ul>
            <li>2 Worlds Setting</li>
            <ul>
                <li>Symmetric</li>
                <li>Asymmetric</li>
            </ul>
            <li>4x4 grid</li>
        </ul>
        <li>Items</li>
        <ul>
            <li class="skip">Block Ciphers</li>
            <ul class="skip">
                <li>DES, AES, etc.</li>
                <li>Securit Proofs</li>
                <ul>
                    <li>PRP-CPA</li>
                    <li>PRP-CCA</li>
                    <li>PRF</li>
                </ul>
            </ul>
            <li>Hash Function</li>
            <ul>
                <li>Input length and Fixed Output length => cannot contain the information of DATA</li>
                <ul>
                    <li>Ex: HelloWorld => Hello <pre><code>def Hash(input):
    return input[:5]</code></pre></li>
                </ul>
                <li>Security Definitions</li>
                <ul>
                    <li>Pre-image Resistance</li>
                    <ul>
                        <li> It should be difficult to figure out what was hashed simply by looking at the hash value.
                            <pre><code>def Hash(input):
    return input[:1]</code></pre></li>
                    </ul>
                    <li>Collision Resistance</li>
                    <ul>
                        <li>2 inputs same output <pre><code>def Hash(input):
    return input</code></pre></li>
                    </ul>
                </ul>
                <li class="skip">Security Proofs</li>
                <ul class="skip">
                    <li>Pre-image attacks</li>
                    <li>Second pre-image attacks</li>
                    <li>Collision-finding attacks</li>
                </ul>
                <li>SHA256</li>
                <ul>
                    <li>HelloWorld => 872e4e50ce9990d8b041330c47c9ddd11bec6b503ae9386a99da8584e9bb12c4</li>
                    <li>HelloWorldd => 61b5db76aeef61f0b9357a31580a73b5c87c8e90eae8e350d13fe6307eae036e</li>
                </ul>
            </ul>


        </ul>
        <li>Symmetric</li>
        <ul>
            <li>Key Setup</li>
            <li>Symmetric Encryption</li>
            <ul>
                <li>Ex: One-time Pad</li>
                <pre><code>msg = "1100"
Key = "0110"

cipher_text = SymmetricEncrypt(Key, msg) = "1010"
send(ciphere_text)</code></pre>
                <pre><code>assume Key
cipher_text = receive()

msg = SymmetricDecrypt(Key, cipher_text)</code></pre>
                <li>Why One-time Pad is perfect secrecy but it cannot be used in real life.</li>
                <p>
                    \(n \in Z^+ \)
                </p>
                <p>
                    \(a,b \in \{0,1\}^n \)
                </p>
                <p>
                    \(Pr[M = a |C = b] = Pr[M=a]\)
                </p>
                <li class="skip">Symmetric Encryption = Modes of operation + Block Ciphers</li>
                <li class="skip">Modes of operation</li>
                <ul class="skip">
                    <li>Electronic Code Book mode (ECB)</li>
                    <li>Cipher Block Chaining mode (CBC$)</li>
                    <li>Cipher Block Chaining mode (CBCC)</li>
                    <li>Counter mode (CTRC)</li>
                    <li>Counter mode (CTR$)</li>
                </ul>
                <li class="skip">Securiy Proofs</li>
                <ul class="skip">
                    <li>IND-CPA</li>
                    <li>IND-CPA</li>
                    <li>IND-CCA</li>
                </ul>
            </ul>
            <li class="skip">Message Authentication Code (MAC)</li>
        </ul>
        <li>Asymmetric</li>
        <ul>
            <li>Key Setup</li>

            <li>Key generation</li>
            <pre><code>K_E, K_D = keygen(...)

Asymmetric Encryption: 
    K_E => Public Key, K_D => Private Key

Digital Signature:
    K_D => Public Key, K_E => Private Key</code></pre>
            <li class="skip">Asymmetric Encryption</li>
            <li>Digital Signature</li>
            <ul>
                <li>Sign</li>
                <pre><code>K_E, K_D = keygen(...)
Private_Key = K_E
Public_Key = K_D

msg = "HelloWorld"
tag = Sign(Private_Key, msg)

send(msg, tag)</code></pre>
                <li>Verify</li>
                <pre><code>assume Public_Key

msg, tag = receive()
ok? = Verify(Public_Key, msg, tag)</code></pre>
                <li>Ex</li>
                A == 1 bitcoin ==> B
                <pre><code>K_E, K_D = keygen(...)
Private_Key_A = K_E
Public_Key_A  = K_D

msg = "transfer 1 bitcoin to B"
tag = Sign(Private_Key_A, msg) = "UXIJKF"

send(msg, tag)</code></pre>
                <pre><code>assume Public_Key_A
msg, tag = receive()

ok? = Verity(Public_Key_A, msg, tag)
</code></pre>
            </ul>
        </ul>
        <li>After class</li>
        <ol>
            <li>Textbook RSA</li>
            <ol>
                <li>Key generation</li>
                <ol>
                    <li>
                        <p>
                            \(p \in Z_P, q \in Z_P, p \ne q \)

                        </p>
                    </li>
                    <li>
                        </p>\(N = p \times q\)
                        <p>
                    </li>

                    <li>
                        <p>

                            \(\phi(N) = (p-1) \times (q-1)\)
                        </p>
                    </li>
                    <li>
                        <p>
                            Choose \(e\) when \(1 &lt e &lt \phi(N)\) and coprime with \( N, \phi(N)\) </p>
                    </li>
                    <li>
                        <p>
                            Choose \(d\) when \( (e \times d) mod \phi(N) = 1\)
                        </p>
                    </li>
                </ol>
                <li>Discrete Logarithm</li>
                <p>\( (d^k) mod (m) \)</p>
            </ol>

            <pre><code>keygen with p=3, q=17
N = 3 x 17 = 51
Phi(N) = 2 x 16 = 32
choose e from [2, 32] and coprime with 51, 32
coprime [5, 7, 11, 13, 19, 23, 29, 31]
pick at 0 => K_E=5
d=1, e*d=5, e*d % Phi(N)= 5
d=2, e*d=10, e*d % Phi(N)= 10
d=3, e*d=15, e*d % Phi(N)= 15
d=4, e*d=20, e*d % Phi(N)= 20
d=5, e*d=25, e*d % Phi(N)= 25
d=6, e*d=30, e*d % Phi(N)= 30
d=7, e*d=35, e*d % Phi(N)= 3
d=8, e*d=40, e*d % Phi(N)= 8
d=9, e*d=45, e*d % Phi(N)= 13
d=10, e*d=50, e*d % Phi(N)= 18
d=11, e*d=55, e*d % Phi(N)= 23
d=12, e*d=60, e*d % Phi(N)= 28
d=13, e*d=65, e*d % Phi(N)= 1
K_E={'key': 5, 'mod': 51}
K_D={'key': 13, 'mod': 51}
msg=6
6**5 mod 51 = 24
cipher_text=24
24**13 mod 51 = 6</code></pre>

            <pre><code>keygen with p=3, q=17
N = 3 x 17 = 51
Phi(N) = 2 x 16 = 32
choose e from [2, 32] and coprime with 51, 32
coprime [5, 7, 11, 13, 19, 23, 29, 31]
pick at 3 => K_E=13
d=1, e*d=13, e*d % Phi(N)= 13
d=2, e*d=26, e*d % Phi(N)= 26
d=3, e*d=39, e*d % Phi(N)= 7
d=4, e*d=52, e*d % Phi(N)= 20
d=5, e*d=65, e*d % Phi(N)= 1
K_E={'key': 13, 'mod': 51}
K_D={'key': 5, 'mod': 51}
msg=6
6**13 mod 51 = 27
cipher_text=27
27**5 mod 51 = 6</code></pre>
            <pre><code>keygen with p=2, q=7
N = 2 x 7 = 14
Phi(N) = 1 x 6 = 6
choose e from [2, 6] and coprime with 14, 6
coprime [5]
pick at 0 => K_E=5
d=1, e*d=5, e*d % Phi(N)= 5
d=2, e*d=10, e*d % Phi(N)= 4
d=3, e*d=15, e*d % Phi(N)= 3
d=4, e*d=20, e*d % Phi(N)= 2
d=5, e*d=25, e*d % Phi(N)= 1
d=6, e*d=30, e*d % Phi(N)= 0
d=7, e*d=35, e*d % Phi(N)= 5
d=8, e*d=40, e*d % Phi(N)= 4
d=9, e*d=45, e*d % Phi(N)= 3
d=10, e*d=50, e*d % Phi(N)= 2
d=11, e*d=55, e*d % Phi(N)= 1
K_E={'key': 5, 'mod': 14}
K_D={'key': 11, 'mod': 14}
msg=2
2**5 mod 14 = 4
cipher_text=4
4**11 mod 14 = 2
</code></pre>
        </ol>
    </ol>
</body>

</html>